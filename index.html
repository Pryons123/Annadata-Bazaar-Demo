<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Annadata - Farmer Marketplace</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f2f7f1;
    }
    .navbar {
      background-color: #4caf50;
    }
    .navbar-brand, .nav-link {
      color: white !important;
      font-weight: 600;
    }
    .nav-link {
      cursor: pointer;
    }
    .active-tab {
      background-color: #2e7d32;
      color: white !important;
    }
    .tab-content > div {
      display: none;
      padding: 2rem 1rem;
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      margin-top: 1rem;
    }
    .tab-content > .active {
      display: block;
    }
    .form-control, .btn {
      max-width: 400px;
    }
  </style>
</head>
<body>

<nav class="navbar navbar-expand-lg sticky-top">
  <a class="navbar-brand" href="#">Annadata</a>
  <div class="collapse navbar-collapse">
    <ul class="navbar-nav ml-auto" id="nav-tabs">
      <li class="nav-item"><a class="nav-link active-tab" data-tab="about">About</a></li>
      <li class="nav-item"><a class="nav-link" data-tab="market">Market</a></li>
      <li class="nav-item"><a class="nav-link" data-tab="accounts">Accounts</a></li>
      <li class="nav-item"><a class="nav-link" data-tab="sell">Sell</a></li>
      <li class="nav-item"><a class="nav-link" data-tab="policy">Policy</a></li>
    </ul>
  </div>
</nav>

<div class="container mt-4">
  <div class="tab-content">
    <div id="about" class="active">
      <h2>About Us</h2>
      <p>
        Our platform connects farmers directly with consumers,
        ensuring fair pricing and transparency. Join Annadata to support agriculture and enjoy fresh produce.
      </p>
    </div>

    <div id="market">
      <h2>Market</h2>
      <div class="row" id="product-list"></div>
    </div>

    <div id="accounts">
      <h2>Create Account</h2>
      <form id="signup-form">
        <select id="user-type" class="form-control mb-2" required>
          <option value="" disabled selected>Select account type</option>
          <option value="farmer">Farmer</option>
          <option value="consumer">Consumer</option>
        </select>
        <input type="text" id="username" class="form-control mb-2" placeholder="Username" required />
        <input type="email" id="email" class="form-control mb-2" placeholder="Email" required />
        <input type="password" id="password" class="form-control mb-2" placeholder="Password" required />
        <div id="farmer-details" style="display:none;">
          <input type="text" id="farm-name" class="form-control mb-2" placeholder="Farm Name" />
          <input type="text" id="farm-location" class="form-control mb-2" placeholder="Farm Location" />
        </div>
        <button type="submit" class="btn btn-success">Create Account</button>
        <p class="text-success mt-2" id="account-message"></p>
      </form>
    </div>

    <div id="sell">
      <h2>Sell Your Produce</h2>
      <form id="sell-form">
        <input type="text" id="crop-name" class="form-control mb-2" placeholder="Crop Name" required />
        <input type="text" id="crop-farmer" class="form-control mb-2" placeholder="Farmer Name" required />
        <input type="number" id="crop-price" class="form-control mb-2" placeholder="Price per unit (₹)" required min="0" />
        <input type="file" id="crop-image" class="form-control mb-2" accept="image/*" />
        <button type="submit" class="btn btn-primary">Upload</button>
        <p class="text-success mt-2" id="sell-message"></p>
      </form>
    </div>

    <div id="policy">
      <h2>Privacy & Refund Policy</h2>
      <p>
        We respect your privacy and use personal data only to provide our services.
        All sales are final unless products significantly differ from descriptions.
        Contact farmers directly for any issues.
      </p>
    </div>
  </div>
</div>

<footer class="text-center bg-success text-white py-3 mt-4">
  &copy; 2025 Annadata Farmer Marketplace
</footer>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>

<script>
  // Tab navigation logic
  const tabs = document.querySelectorAll('#nav-tabs .nav-link');
  const tabContent = document.querySelectorAll('.tab-content > div');

  tabs.forEach(tab => {
    tab.addEventListener('click', () => {
      tabs.forEach(t => t.classList.remove('active-tab'));
      tab.classList.add('active-tab');
      const target = tab.getAttribute('data-tab');
      tabContent.forEach(content => {
        content.classList.toggle('active', content.id === target);
      });
    });
  });

  // Product list examples
  const products = [
    {name: "Fresh Tomatoes", farmer: "Green Valley Farm", price: "₹40/kg"},
    {name: "Organic Potatoes", farmer: "Sunny Farms", price: "₹30/kg"},
    {name: "Carrots", farmer: "Hillside Orchards", price: "₹35/kg"},
  ];

  const productList = document.getElementById('product-list');
  products.forEach(p => {
    const div = document.createElement('div');
    div.className = 'col-md-4 mb-3';
    div.innerHTML = `
      <div class="border rounded p-3 bg-light">
        <h5>${p.name}</h5>
        <p><em>Farmer: ${p.farmer}</em></p>
        <p><strong>Price: ${p.price}</strong></p>
      </div>`;
    productList.appendChild(div);
  });

  // Show farmer fields if needed during account creation
  const userTypeSelect = document.getElementById('user-type');
  const farmerDetails = document.getElementById('farmer-details');
  userTypeSelect.addEventListener('change', () => {
    if(userTypeSelect.value === 'farmer') {
      farmerDetails.style.display = 'block';
      document.getElementById('farm-name').required = true;
      document.getElementById('farm-location').required = true;
    } else {
      farmerDetails.style.display = 'none';
      document.getElementById('farm-name').required = false;
      document.getElementById('farm-location').required = false;
    }
  });

  // Account creation form submission dummy
  document.getElementById('signup-form').addEventListener('submit', e => {
    e.preventDefault();
    const username = document.getElementById('username').value.trim();
    if(!username) alert('Please fill out username');
    else {
      document.getElementById('account-message').textContent =
        `Account created for ${username} as ${userTypeSelect.value}. (Demo only)`;
      e.target.reset();
      farmerDetails.style.display = 'none';
    }
  });

  // Sell produce form submission dummy
  document.getElementById('sell-form').addEventListener('submit', e => {
    e.preventDefault();
    const cropName = document.getElementById('crop-name').value.trim();
    if(!cropName) alert('Please enter the crop name');
    else {
      document.getElementById('sell-message').textContent =
        `Produce "${cropName}" uploaded successfully! (Demo only)`;
      e.target.reset();
    }
  });
</script>

</body>
</html>
